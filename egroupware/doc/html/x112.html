<HTML
><HEAD
><TITLE
>Setup / Configure phpGroupWare</TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.52"><LINK
REL="HOME"
TITLE="phpGroupWare Docs V0.05"
HREF="book1.html"><LINK
REL="UP"
TITLE="Installation Steps"
HREF="installing.html"><LINK
REL="PREVIOUS"
TITLE="Installing from CVS"
HREF="cvsins.html"><LINK
REL="NEXT"
TITLE="Testing the install"
HREF="x156.html"></HEAD
><BODY
CLASS="SECT1"
><DIV
CLASS="NAVHEADER"
><TABLE
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TH
COLSPAN="3"
ALIGN="center"
>phpGroupWare Docs V0.05</TH
></TR
><TR
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="bottom"
><A
HREF="cvsins.html"
>Prev</A
></TD
><TD
WIDTH="80%"
ALIGN="center"
VALIGN="bottom"
>Chapter 7. Installation Steps</TD
><TD
WIDTH="10%"
ALIGN="right"
VALIGN="bottom"
><A
HREF="x156.html"
>Next</A
></TD
></TR
></TABLE
><HR
ALIGN="LEFT"
WIDTH="100%"></DIV
><DIV
CLASS="SECT1"
><H1
CLASS="SECT1"
><A
NAME="AEN112"
>Setup / Configure phpGroupWare</A
></H1
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN114"
>The config file</A
></H2
><P
>      	Copy the <TT
CLASS="FILENAME"
>header.inc.php.sample</TT
> file to
      	<TT
CLASS="FILENAME"
>header.inc.php</TT
> and edit the file, following the
      	directions in the comments.
    	</P
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN119"
>Create database in MySQL</A
></H2
><P
>        An empty database will be needed for phpGroupWare. Here are the instructions for doing so with MySQL.
        First create the database:
        <P
><B
CLASS="COMMAND"
>mysqladmin create phpgroupware -p</B
> </P
>
        Then login to the mysql:
        <P
><B
CLASS="COMMAND"
>mysql -p</B
> </P
>
        Finally grant the needed security rights:
        <P
><B
CLASS="COMMAND"
>grant all on phpgroupware.* to phpgroupware@localhost identified by "some_password";</B
> </P
>
    	</P
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN128"
>Create database in PostreSQL</A
></H2
><P
>        An empty database will be needed for phpGroupWare. Here are the instructions for doing so with PostgreSQL.
        Create the database:
        <P
><B
CLASS="COMMAND"
>postmaster -i -D /home/[username]/[dataDir]</B
> </P
>
        You will probably need to review PostgreSQL documentation for futher details.
    	</P
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN133"
>The Setup Program</A
></H2
><P
>    		Then point your browser to phpgroupware/setup/ which will
    		create (or upgrade) the database tables.
    		You wil be asked to login, using the password set in
    		<TT
CLASS="FILENAME"
>header.inc.php</TT
>. Setup will attempt to determine what version
    		of the phpGroupWare database you have installed, and upgrade to the most recent
    		version.
      </P
><DIV
CLASS="NOTE"
><P
></P
><TABLE
CLASS="NOTE"
WIDTH="100%"
BORDER="0"
><TR
><TD
WIDTH="25"
ALIGN="CENTER"
VALIGN="TOP"
><IMG
SRC="../images/note.gif"
HSPACE="5"
ALT="Note"></TD
><TH
ALIGN="LEFT"
VALIGN="CENTER"
><B
>Note</B
></TH
></TR
><TR
><TD
>&nbsp;</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><P
>            The developers are concentrating on getting the beta
            working, and have not spent a great deal of time building upgrade scripts from the
            alpha versions of phpGroupWare. You are advised to backup your existing alpha
            database before running the setup script to avoid problems!
         </P
></TD
></TR
></TABLE
></DIV
><P
>    	  If you get no error messages, continue on to phpgroupware/setup/config.php
    		to configure phpGroupWare to your system.
      </P
><P
>    	  If you are using the email system you will need to create a temporary directory
      	where file uploads will be stored.  For security reasons, you should <TT
CLASS="CONSTANT"
>chown
      	nobody.nobody</TT
> and <TT
CLASS="CONSTANT"
>chmod 700</TT
> to that directory.  Depending on your system configuration.
      	Default installs of Apache normally run as the user nobody.  You may need your system
      	administrator to do this for you if you do not have root access.
      </P
><P
>    	  If you do not have access to root, create this file and run it.
      </P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="PROGRAMLISTING"
>?php
if (mkdir("/path/to/temp/directory",0700)) {
echo "Directory created successfully";
} else {
echo "Error creating directory";
}
?
      </PRE
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN146"
>The phpGroupWare Daemon</A
></H2
><P
>        If you have access to cron, you may want to setup the files in the cron
    		directory.
    	</P
><P
>    		stalesessions.pl - There are 2 reasons for this file.
    		<P
></P
><UL
><LI
STYLE="list-style-type: disc"
><P
>Users always forget to logout. This way the session doesn't sit around forever, creating a possible security risk.</P
></LI
><LI
STYLE="list-style-type: disc"
><P
>The email system requires plain text passwords which are stored in the sessions table.</P
></LI
></UL
>
        This file is not required, you can simply disable cron_apps in the admin -&#62; applications section
      	to clean out the sessions table during login and logout
      </P
><P
>        stale_uploads.pl - This will delete file attachments for messages that where not
    		completed.  If a users browser crashes, Internet connection dies, etc, their
    		files will sit there forever unless deleted.  You could add a few lines to
    		logout.php that will look in the temp directory for any stale uploads and delete
    		them. But, once again, it becomes a performance issue.
    	</P
></DIV
></DIV
><DIV
CLASS="NAVFOOTER"
><HR
ALIGN="LEFT"
WIDTH="100%"><TABLE
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
><A
HREF="cvsins.html"
>Prev</A
></TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="book1.html"
>Home</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
><A
HREF="x156.html"
>Next</A
></TD
></TR
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
>Installing from CVS</TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="installing.html"
>Up</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
>Testing the install</TD
></TR
></TABLE
></DIV
></BODY
></HTML
>